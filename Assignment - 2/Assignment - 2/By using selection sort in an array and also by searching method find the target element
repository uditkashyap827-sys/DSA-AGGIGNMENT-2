#include <stdio.h>

// --- Helper function to swap two elements ---
void swap(int *xp, int *yp) {
    int temp = *xp;
    *xp = *yp;
    *yp = temp;
}

// --- 1. SELECTION SORT Function ---

void selectionSort(int arr[], int n) {
    int i, j, min_index;

    // Move the boundary of the unsorted subarray one by one
    for (i = 0; i < n - 1; i++) {
        
        // Find the index of the minimum element in the unsorted part
        min_index = i;
        for (j = i + 1; j < n; j++) {
            if (arr[j] < arr[min_index]) {
                min_index = j;
            }
        }

        // Swap the found minimum element with the
        // first element of the unsorted part.
        if (min_index != i) {
            swap(&arr[min_index], &arr[i]);
        }
    }
}

// --- 2. BINARY SEARCH Function ---

int binarySearch(int arr[], int n, int target) {
    int low = 0;
    int high = n - 1;

    while (low <= high) {
        int mid = low + (high - low) / 2;

        if (arr[mid] == target) {
            return mid; // Found it!
        }
        if (arr[mid] < target) {
            low = mid + 1; // Target is in the right half
        } else {
            high = mid - 1; // Target is in the left half
        }
    }
    return -1; // Not found
}

// --- Helper function to print the array ---
void printArray(int arr[], int size) {
    for (int i = 0; i < size; i++) {
        printf("%d ", arr[i]);
    }
    printf("\n");
}

// --- MAIN PROGRAM ---
int main() {
    int n;
    int target;

    // --- Get Array Input ---
    printf("Enter the number of elements: ");
    scanf("%d", &n);

    if (n <= 0) {
        printf("Invalid array size.\n");
        return 1;
    }

    int arr[n];
    printf("Enter %d elements (in any order):\n", n);
    for (int i = 0; i < n; i++) {
        scanf("%d", &arr[i]);
    }

    // --- Get Target Input ---
    printf("\nEnter the target element to search for: ");
    scanf("%d", &target);

    printf("\nOriginal array: \n");
    printArray(arr, n);

    // --- Step 1: Sort the Array ---
    selectionSort(arr, n);
    printf("\nArray after Selection Sort: \n");
    printArray(arr, n);

    // --- Step 2: Search the Sorted Array ---
    printf("\nSearching for %d using Binary Search...\n", target);
    int resultIndex = binarySearch(arr, n, target);

    // --- Step 3: Print the Final Result ---
    if (resultIndex != -1) {
        printf("\nElement %d found at index: %d (in the sorted array)\n", target, resultIndex);
    } else {
        printf("\nElement %d not found in the array.\n", target);
    }
    
    return 0;
}



//OUTPUT
Enter the number of elements: 6
Enter 6 elements (in any order):
64
11
30
25
12
22

Enter the target element to search for: 25

Original array: 
64 11 30 25 12 22 

Array after Selection Sort: 
11 12 22 25 30 64 

Searching for 25 using Binary Search...

Element 25 found at index: 3 (in the sorted array)
